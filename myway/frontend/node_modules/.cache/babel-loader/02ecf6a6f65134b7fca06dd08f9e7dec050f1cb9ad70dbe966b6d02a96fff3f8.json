{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'CataloguePage',\n  data() {\n    return {\n      cars: [],\n      searchQuery: '',\n      loading: false,\n      baseApiUrl: 'http://localhost:8000/api' // Измените если нужно\n    };\n  },\n  created() {\n    this.fetchCars();\n  },\n  methods: {\n    fetchCars() {\n      this.loading = true;\n      axios.get(`${this.baseApiUrl}/cars/`).then(response => {\n        this.cars = response.data;\n      }).catch(error => {\n        console.error('Error fetching cars:', error);\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    searchCars() {\n      if (this.searchQuery.trim() === '') {\n        this.fetchCars();\n        return;\n      }\n      this.loading = true;\n      axios.get(`${this.baseApiUrl}/search/`, {\n        params: {\n          q: this.searchQuery\n        }\n      }).then(response => {\n        this.cars = response.data;\n      }).catch(error => {\n        console.error('Search error:', error);\n        this.cars = [];\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    getFullImageUrl(imagePath) {\n      if (!imagePath) return '';\n      return imagePath.startsWith('http') ? imagePath : `http://localhost:8000${imagePath}`;\n    },\n    formatPrice(price) {\n      return parseFloat(price).toLocaleString();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","cars","searchQuery","loading","baseApiUrl","created","fetchCars","methods","get","then","response","catch","error","console","finally","searchCars","trim","params","q","getFullImageUrl","imagePath","startsWith","formatPrice","price","parseFloat","toLocaleString"],"sources":["C:\\Users\\Asus\\Desktop\\MyWay Project\\myway\\frontend\\src\\components\\CataloguePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"catalogue\">\r\n    <h1>Catalogue</h1>\r\n    <p>Welcome to the catalogue page of MyWay.</p>\r\n    <input \r\n      v-model=\"searchQuery\" \r\n      @input=\"searchCars\" \r\n      placeholder=\"Search for cars...\"\r\n      class=\"search-input\"\r\n    />\r\n  </div>\r\n  <div class=\"cars-list\">\r\n    <h1>Cars</h1>\r\n    <div v-if=\"loading\" class=\"loading\">Loading...</div>\r\n    <ul v-else>\r\n      <li v-for=\"car in cars\" :key=\"car.id\" class=\"car-item\">\r\n        <img \r\n          :src=\"getFullImageUrl(car.image)\" \r\n          alt=\"Car Image\" \r\n          class=\"car-image\"\r\n        />\r\n        <div class=\"car-info\">\r\n          <h3>{{ car.title }}</h3>\r\n          <p>{{ car.brand }} {{ car.model }}</p>\r\n          <p class=\"price\">${{ formatPrice(car.price) }}</p>\r\n          <router-link \r\n            v-if=\"car.id\" \r\n            :to=\"{ name: 'CarDetail', params: { id: car.id } }\" \r\n            class=\"detail-link\"\r\n          >\r\n            View more\r\n          </router-link>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div v-if=\"!loading && cars.length === 0\" class=\"no-results\">\r\n      No cars found\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'CataloguePage',\r\n  data() {\r\n    return {\r\n      cars: [],\r\n      searchQuery: '',\r\n      loading: false,\r\n      baseApiUrl: 'http://localhost:8000/api' // Измените если нужно\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchCars();\r\n  },\r\n  methods: {\r\n    fetchCars() {\r\n      this.loading = true;\r\n      axios.get(`${this.baseApiUrl}/cars/`)\r\n        .then(response => {\r\n          this.cars = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching cars:', error);\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    searchCars() {\r\n      if (this.searchQuery.trim() === '') {\r\n        this.fetchCars();\r\n        return;\r\n      }\r\n      \r\n      this.loading = true;\r\n      axios.get(`${this.baseApiUrl}/search/`, {\r\n        params: { q: this.searchQuery }\r\n      })\r\n        .then(response => {\r\n          this.cars = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error('Search error:', error);\r\n          this.cars = [];\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    getFullImageUrl(imagePath) {\r\n      if (!imagePath) return '';\r\n      return imagePath.startsWith('http') ? imagePath : `http://localhost:8000${imagePath}`;\r\n    },\r\n    formatPrice(price) {\r\n      return parseFloat(price).toLocaleString();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.catalogue {\r\n  text-align: center;\r\n  margin-top: 50px;\r\n  padding: 20px;\r\n}\r\n\r\n.search-input {\r\n  padding: 10px 15px;\r\n  width: 300px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.cars-list {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.car-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 30px;\r\n  margin-bottom: 30px;\r\n  padding: 20px;\r\n  border: 1px solid #eee;\r\n  border-radius: 8px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.car-item:hover {\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.1);\r\n}\r\n\r\n.car-image {\r\n  width: 200px;\r\n  height: auto;\r\n  border-radius: 4px;\r\n  object-fit: cover;\r\n}\r\n\r\n.car-info {\r\n  flex: 1;\r\n}\r\n\r\n.price {\r\n  color: #2c3e50;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  margin: 10px 0;\r\n}\r\n\r\n.detail-link {\r\n  display: inline-block;\r\n  padding: 8px 15px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: 4px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.detail-link:hover {\r\n  background-color: #3aa876;\r\n}\r\n\r\n.loading, .no-results {\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n  color: #666;\r\n}\r\n</style>"],"mappings":"AA0CA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,KAAK;MACdC,UAAU,EAAE,2BAA0B,CAAE;IAC1C,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,SAAS,CAAC,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACPD,SAASA,CAAA,EAAG;MACV,IAAI,CAACH,OAAM,GAAI,IAAI;MACnBL,KAAK,CAACU,GAAG,CAAC,GAAG,IAAI,CAACJ,UAAU,QAAQ,EACjCK,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACT,IAAG,GAAIS,QAAQ,CAACV,IAAI;MAC3B,CAAC,EACAW,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C,CAAC,EACAE,OAAO,CAAC,MAAM;QACb,IAAI,CAACX,OAAM,GAAI,KAAK;MACtB,CAAC,CAAC;IACN,CAAC;IACDY,UAAUA,CAAA,EAAG;MACX,IAAI,IAAI,CAACb,WAAW,CAACc,IAAI,CAAC,MAAM,EAAE,EAAE;QAClC,IAAI,CAACV,SAAS,CAAC,CAAC;QAChB;MACF;MAEA,IAAI,CAACH,OAAM,GAAI,IAAI;MACnBL,KAAK,CAACU,GAAG,CAAC,GAAG,IAAI,CAACJ,UAAU,UAAU,EAAE;QACtCa,MAAM,EAAE;UAAEC,CAAC,EAAE,IAAI,CAAChB;QAAY;MAChC,CAAC,EACEO,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACT,IAAG,GAAIS,QAAQ,CAACV,IAAI;MAC3B,CAAC,EACAW,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrC,IAAI,CAACX,IAAG,GAAI,EAAE;MAChB,CAAC,EACAa,OAAO,CAAC,MAAM;QACb,IAAI,CAACX,OAAM,GAAI,KAAK;MACtB,CAAC,CAAC;IACN,CAAC;IACDgB,eAAeA,CAACC,SAAS,EAAE;MACzB,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;MACzB,OAAOA,SAAS,CAACC,UAAU,CAAC,MAAM,IAAID,SAAQ,GAAI,wBAAwBA,SAAS,EAAE;IACvF,CAAC;IACDE,WAAWA,CAACC,KAAK,EAAE;MACjB,OAAOC,UAAU,CAACD,KAAK,CAAC,CAACE,cAAc,CAAC,CAAC;IAC3C;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}